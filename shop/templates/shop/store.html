{% extends 'base.html' %}

{% block title %}–ú–∞–≥–∞–∑–∏–Ω - Churko{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Store Header -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">üõí –ú–∞–≥–∞–∑–∏–Ω Churko</h1>
        <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
            –£–ª—É—á—à–∏—Ç–µ —Å–≤–æ–π –∏–≥—Ä–æ–≤–æ–π –æ–ø—ã—Ç —Å –ø–æ–º–æ—â—å—é –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ –±–æ–Ω—É—Å–æ–≤
        </p>
        
        <!-- User Currency -->
        <div class="flex justify-center space-x-6 mt-6">
            <div class="bg-gold-100 dark:bg-gold-900/30 text-gold-800 dark:text-gold-300 px-4 py-2 rounded-lg">
                <span class="font-bold">{{ user.profile.coins|default:250 }}</span> üí∞ –ú–æ–Ω–µ—Ç
            </div>
            <div class="bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 px-4 py-2 rounded-lg">
                <span class="font-bold">{{ user.profile.gems|default:15 }}</span> üíé –ö—Ä–∏—Å—Ç–∞–ª–ª–æ–≤
            </div>
        </div>
    </div>

    <!-- Categories -->
    <div class="flex flex-wrap justify-center mb-8 space-x-2 space-y-2">
        <button class="category-btn active" data-category="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
        <button class="category-btn" data-category="hints">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</button>
        <button class="category-btn" data-category="boosters">‚ö° –ë—É—Å—Ç–µ—Ä—ã</button>
        <button class="category-btn" data-category="cosmetics">üé® –í–Ω–µ—à–Ω–∏–π –≤–∏–¥</button>
        <button class="category-btn" data-category="premium">üëë –ü—Ä–µ–º–∏—É–º</button>
    </div>

    <!-- Store Items -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12" x-data="storeManager()">
        
        <!-- Hints Section -->
        <div class="card p-6 group category-item" data-category="hints">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">üí°</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–ü–æ–¥—Å–∫–∞–∑–∫–∞</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">–ü–æ–ª—É—á–∏—Ç–µ –Ω–∞–º–µ–∫ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–∏</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-gold-600 mb-1">50 üí∞</div>
                <div class="text-xs text-gray-600 dark:text-gray-400">–∑–∞ 1 –ø–æ–¥—Å–∫–∞–∑–∫—É</div>
            </div>
            
            <form method="POST" action="/store/buy/" class="space-y-3">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="hint">
                <input type="hidden" name="quantity" value="1">
                <input type="hidden" name="price" value="50">
                <button type="submit" class="btn-gold w-full">
                    üí∞ –ö—É–ø–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
                </button>
            </form>
        </div>

        <!-- Hint Pack -->
        <div class="card p-6 group category-item relative" data-category="hints">
            <div class="absolute top-4 right-4 bg-green-500 text-white text-xs px-2 py-1 rounded-full">
                -20%
            </div>
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">üí°</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–ù–∞–±–æ—Ä –ø–æ–¥—Å–∫–∞–∑–æ–∫</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">5 –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-gold-600 mb-1">200 üí∞</div>
                <div class="text-xs text-gray-600 dark:text-gray-400 line-through">250 üí∞</div>
            </div>
            
            <form method="POST" action="/store/buy/" class="space-y-3">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="hint_pack">
                <input type="hidden" name="quantity" value="5">
                <input type="hidden" name="price" value="200">
                <button type="submit" class="btn-gold w-full">
                    üí∞ –ö—É–ø–∏—Ç—å –Ω–∞–±–æ—Ä
                </button>
            </form>
        </div>

        <!-- Time Booster -->
        <div class="card p-6 group category-item" data-category="boosters">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">‚è∞</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">+5 –º–∏–Ω—É—Ç –∫ —Ç–∞–π–º–µ—Ä—É —É—Ä–æ–≤–Ω—è</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-gold-600 mb-1">100 üí∞</div>
                <div class="text-xs text-gray-600 dark:text-gray-400">–∑–∞ 5 –º–∏–Ω—É—Ç</div>
            </div>
            
            <form method="POST" action="/store/buy/">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="time_boost">
                <input type="hidden" name="quantity" value="1">
                <input type="hidden" name="price" value="100">
                <button type="submit" class="btn-success w-full">
                    ‚è∞ –ö—É–ø–∏—Ç—å –≤—Ä–µ–º—è
                </button>
            </form>
        </div>

        <!-- Double Coins -->
        <div class="card p-6 group category-item" data-category="boosters">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-gold-500 to-yellow-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">üí∞</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–î–≤–æ–π–Ω—ã–µ –º–æ–Ω–µ—Ç—ã</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">x2 –º–æ–Ω–µ—Ç—ã –∑–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-green-600 mb-1">3 üíé</div>
                <div class="text-xs text-gray-600 dark:text-gray-400">–∑–∞ 1 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</div>
            </div>
            
            <form method="POST" action="/store/buy/">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="double_coins">
                <input type="hidden" name="quantity" value="1">
                <input type="hidden" name="price" value="3">
                <input type="hidden" name="currency" value="gems">
                <button type="submit" class="btn-success w-full">
                    üíé –ö—É–ø–∏—Ç—å –±—É—Å—Ç–µ—Ä
                </button>
            </form>
        </div>

        <!-- Skip Level -->
        <div class="card p-6 group category-item border-red-200 dark:border-red-800" data-category="boosters">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">‚è≠Ô∏è</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–ü—Ä–æ–ø—É—Å–∫ —É—Ä–æ–≤–Ω—è</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-red-600 mb-1">10 üíé</div>
                <div class="text-xs text-red-600 dark:text-red-400">–¢–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ!</div>
            </div>
            
            <form method="POST" action="/store/buy/">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="skip_level">
                <input type="hidden" name="quantity" value="1">
                <input type="hidden" name="price" value="10">
                <input type="hidden" name="currency" value="gems">
                <button type="submit" class="btn-danger w-full">
                    üíé –ö—É–ø–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫
                </button>
            </form>
        </div>

        <!-- Avatar Frame -->
        <div class="card p-6 group category-item" data-category="cosmetics">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform border-4 border-gold-400">
                    <span class="text-2xl">üë§</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–ó–æ–ª–æ—Ç–∞—è —Ä–∞–º–∫–∞</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è —Ä–∞–º–∫–∞ –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-gold-600 mb-1">500 üí∞</div>
                <div class="text-xs text-gray-600 dark:text-gray-400">–ù–∞–≤—Å–µ–≥–¥–∞</div>
            </div>
            
            <form method="POST" action="/store/buy/">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="avatar_frame">
                <input type="hidden" name="item_id" value="golden_frame">
                <input type="hidden" name="price" value="500">
                <button type="submit" class="btn-gold w-full">
                    üé® –ö—É–ø–∏—Ç—å —Ä–∞–º–∫—É
                </button>
            </form>
        </div>

        <!-- Title -->
        <div class="card p-6 group category-item" data-category="cosmetics">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">üèÜ</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–¢–∏—Ç—É–ª "–ú–∞—Å—Ç–µ—Ä"</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">–ü–æ–∫–∞–∂–∏—Ç–µ –≤—Å–µ–º —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å</p>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-2xl font-bold text-primary-600 mb-1">5 üíé</div>
                <div class="text-xs text-gray-600 dark:text-gray-400">–ù–∞–≤—Å–µ–≥–¥–∞</div>
            </div>
            
            <form method="POST" action="/store/buy/">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="title">
                <input type="hidden" name="item_id" value="master">
                <input type="hidden" name="price" value="5">
                <input type="hidden" name="currency" value="gems">
                <button type="submit" class="btn-primary w-full">
                    üíé –ö—É–ø–∏—Ç—å —Ç–∏—Ç—É–ª
                </button>
            </form>
        </div>

        <!-- Premium Pack -->
        <div class="card p-6 group category-item border-4 border-gold-500 relative overflow-hidden" data-category="premium">
            <div class="absolute top-0 right-0 bg-gold-500 text-white px-4 py-1 transform rotate-12 translate-x-4 -translate-y-2">
                <span class="text-xs font-bold">VIP</span>
            </div>
            <div class="text-center mb-4">
                <div class="w-20 h-20 bg-gradient-to-br from-gold-400 via-gold-500 to-gold-600 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform gold-glow">
                    <span class="text-4xl">üëë</span>
                </div>
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">–ü—Ä–µ–º–∏—É–º –ø–∞–∫–µ—Ç</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">–í—Å–µ —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã</p>
            </div>
            
            <div class="space-y-2 mb-4 text-sm">
                <div class="flex items-center space-x-2">
                    <span class="text-green-500">‚úì</span>
                    <span>10 –ø–æ–¥—Å–∫–∞–∑–æ–∫</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-500">‚úì</span>
                    <span>5 –±—É—Å—Ç–µ—Ä–æ–≤ –≤—Ä–µ–º–µ–Ω–∏</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-500">‚úì</span>
                    <span>–ó–æ–ª–æ—Ç–∞—è —Ä–∞–º–∫–∞</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-500">‚úì</span>
                    <span>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Ç–∏—Ç—É–ª</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-500">‚úì</span>
                    <span>+50% –º–æ–Ω–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞</span>
                </div>
            </div>
            
            <div class="text-center mb-4">
                <div class="text-3xl font-bold text-gold-600 mb-1">25 üíé</div>
                <div class="text-xs text-gray-600 dark:text-gray-400 line-through">40 üíé –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏</div>
            </div>
            
            <form method="POST" action="/store/buy/">
                {% csrf_token %}
                <input type="hidden" name="item_type" value="premium_pack">
                <input type="hidden" name="price" value="25">
                <input type="hidden" name="currency" value="gems">
                <button type="submit" class="btn-gold w-full text-lg">
                    üëë –ö—É–ø–∏—Ç—å VIP –ø–∞–∫–µ—Ç
                </button>
            </form>
        </div>

        <!-- Buy Gems -->
        <div class="card p-6 group category-item border-2 border-green-500" data-category="premium">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <span class="text-3xl">üíé</span>
                </div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">–ö—Ä–∏—Å—Ç–∞–ª–ª—ã</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400">–ü—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞ –¥–ª—è –æ—Å–æ–±—ã—Ö –ø–æ–∫—É–ø–æ–∫</p>
            </div>
            
            <div class="space-y-3">
                <div class="flex justify-between items-center">
                    <span>50 üíé</span>
                    <span class="text-green-600 font-bold">$2.99</span>
                </div>
                <div class="flex justify-between items-center">
                    <span>120 üíé</span>
                    <span class="text-green-600 font-bold">$5.99</span>
                </div>
                <div class="flex justify-between items-center bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded">
                    <span>250 üíé</span>
                    <span class="text-green-600 font-bold">$9.99</span>
                    <span class="text-xs bg-yellow-200 dark:bg-yellow-800 px-2 py-1 rounded">–í—ã–≥–æ–¥–Ω–æ!</span>
                </div>
            </div>
            
            <button class="btn-success w-full mt-4">
                üí≥ –ö—É–ø–∏—Ç—å –∫—Ä–∏—Å—Ç–∞–ª–ª—ã
            </button>
        </div>
    </div>

    <!-- Purchase History -->
    <div class="card p-6 mb-8">
        <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">üìú –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫</h2>
        <div class="space-y-3">
            <div class="flex items-center justify-between py-2 border-b border-gray-200 dark:border-slate-700">
                <div class="flex items-center space-x-3">
                    <span class="text-2xl">üí°</span>
                    <div>
                        <div class="font-medium">–ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</div>
                    </div>
                </div>
                <div class="text-gold-600 font-medium">-50 üí∞</div>
            </div>
            
            <div class="flex items-center justify-between py-2 border-b border-gray-200 dark:border-slate-700">
                <div class="flex items-center space-x-3">
                    <span class="text-2xl">‚è∞</span>
                    <div>
                        <div class="font-medium">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥</div>
                    </div>
                </div>
                <div class="text-gold-600 font-medium">-100 üí∞</div>
            </div>
            
            <div class="flex items-center justify-between py-2">
                <div class="flex items-center space-x-3">
                    <span class="text-2xl">üí∞</span>
                    <div>
                        <div class="font-medium">–î–≤–æ–π–Ω—ã–µ –º–æ–Ω–µ—Ç—ã</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">3 –¥–Ω—è –Ω–∞–∑–∞–¥</div>
                    </div>
                </div>
                <div class="text-green-600 font-medium">-3 üíé</div>
            </div>
        </div>
    </div>

    <!-- Special Offers -->
    <div class="card p-6 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30">
        <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">üéâ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h2>
        <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-white dark:bg-slate-800 rounded-lg p-4">
                <h3 class="font-bold mb-2">–°—á–∞—Å—Ç–ª–∏–≤—ã–π —á–∞—Å!</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                    –í—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∑–∞ –ø–æ–ª—Ü–µ–Ω—ã! –û—Å—Ç–∞–ª–æ—Å—å: <strong class="text-red-600">2:34:56</strong>
                </p>
                <button class="btn-primary text-sm w-full">–í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</button>
            </div>
            
            <div class="bg-white dark:bg-slate-800 rounded-lg p-4">
                <h3 class="font-bold mb-2">–ù–µ–¥–µ–ª—å–Ω–∞—è –∞–∫—Ü–∏—è</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                    –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ –ø–æ–ª—É—á–∏—Ç–µ +20% –±–æ–Ω—É—Å–æ–º
                </p>
                <button class="btn-success text-sm w-full">–ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å</button>
            </div>
        </div>
    </div>
</div>

<script>
function storeManager() {
    return {
        init() {
            this.setupCategoryFilters();
        },
        
        setupCategoryFilters() {
            const categoryButtons = document.querySelectorAll('.category-btn');
            const storeItems = document.querySelectorAll('.category-item');
            
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Update active button
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    const category = button.dataset.category;
                    
                    // Filter items
                    storeItems.forEach(item => {
                        if (category === 'all' || item.dataset.category === category) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
        }
    }
}
</script>

<style>
.category-btn {
    @apply px-4 py-2 bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors cursor-pointer;
}

.category-btn.active {
    @apply bg-primary-600 text-white border-primary-600;
}
</style>
{% endblock %}