
{% extends 'base.html' %}

{% block title %}–í—Ä–µ–º—è –≤—ã—à–ª–æ - Churko{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl w-full text-center">
        <div class="animate-pulse mb-8">
            <div class="w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto timer-glow">
                <span class="text-6xl">‚è∞</span>
            </div>
        </div>
        
        <h1 class="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6">
            –í—Ä–µ–º—è –≤—ã—à–ª–æ!
        </h1>
        
        <p class="text-xl md:text-2xl text-gray-600 dark:text-gray-400 mb-8">
            –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è <strong class="text-primary-600">{{ room.level.name }}</strong> 
            –≤ —Ä–∞–π–æ–Ω–µ <strong class="text-red-600">{{ room.level.district.name }}</strong> –∏—Å—Ç–µ–∫–ª–æ.
        </p>

        <!-- Progress Stats -->
        <div class="card p-6 mb-8">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">üìä –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="text-center">
                    <div class="text-3xl font-bold text-green-600 mb-1">{{ room.progress.task_index }}</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">–ó–∞–¥–∞–Ω–∏–π —Ä–µ—à–µ–Ω–æ</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-primary-600 mb-1">{{ room.level.tasks.count }}</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">–í—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏–π</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-gold-600 mb-1">{{ room.progress.completion_percentage|default:65 }}%</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-red-600 mb-1">{{ room.members.count }}</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="mt-6">
                <div class="w-full bg-gray-200 dark:bg-slate-700 rounded-full h-4">
                    <div class="bg-gradient-to-r from-green-500 to-yellow-500 h-4 rounded-full transition-all duration-500" 
                         style="width: {{ room.progress.completion_percentage|default:65 }}%"></div>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
                    –í—ã –ø—Ä–æ—à–ª–∏ {{ room.progress.task_index }} –∏–∑ {{ room.level.tasks.count }} –∑–∞–¥–∞–Ω–∏–π
                </p>
            </div>
        </div>

        <!-- Team Performance -->
        <div class="card p-6 mb-8">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">üë• –ö–æ–º–∞–Ω–¥–∞</h2>
            <div class="space-y-3">
                {% for member in room.members.all %}
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-gray-500 to-gray-600 rounded-full flex items-center justify-center text-white font-bold">
                            {{ member.user.username.0|upper }}
                        </div>
                        <span class="font-medium">{{ member.user.username }}</span>
                    </div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">
                        +{{ member.partial_exp|default:50 }} –æ–ø—ã—Ç–∞
                    </div>
                </div>
                {% endfor %}
            </div>
            <p class="text-sm text-gray-600 dark:text-gray-400 mt-4">
                üí° –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —á–∞—Å—Ç–∏—á–Ω—ã–π –æ–ø—ã—Ç –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å
            </p>
        </div>

        <!-- Encouragement -->
        <div class="card p-6 mb-8 bg-gradient-to-r from-blue-50 to-primary-50 dark:from-slate-800 dark:to-slate-700 border-primary-200 dark:border-primary-800">
            <h2 class="text-xl font-bold text-primary-800 dark:text-primary-300 mb-4">üí™ –ù–µ —Å–¥–∞–≤–∞–π—Ç–µ—Å—å!</h2>
            <p class="text-primary-700 dark:text-primary-400 mb-4">
                –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å —Å–∏–ª—å–Ω–µ–µ. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏, —Å–æ–±–∏—Ä–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –∏ –ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!
            </p>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div class="flex items-center space-x-2">
                    <span class="text-green-600">‚úì</span>
                    <span>–ü–æ–ª—É—á–µ–Ω –æ–ø—ã—Ç –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-600">‚úì</span>
                    <span>–û—Ç–∫—Ä—ã—Ç—ã –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-600">‚úì</span>
                    <span>–ö–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∏–ª–∞ –æ–ø—ã—Ç</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-green-600">‚úì</span>
                    <span>–£—Ä–æ–≤–µ–Ω—å –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º</span>
                </div>
            </div>
        </div>

        <!-- Next Actions -->
        <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
            <a href="{% url 'create_room' room.level.id %}" class="btn-primary text-lg px-8 py-4">
                üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
            </a>
            <a href="/districts/" class="btn-secondary text-lg px-8 py-4">
                üèòÔ∏è –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —Ä–∞–π–æ–Ω
            </a>
            <a href="/store/" class="btn-gold text-lg px-8 py-4">
                üí° –ö—É–ø–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏
            </a>
        </div>
        
        <div class="mt-8">
            <p class="text-sm text-gray-600 dark:text-gray-400">
                üí° –°–æ–≤–µ—Ç: –ò–∑—É—á–∏—Ç–µ –∑–∞–¥–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–æ—à–ª–∏, –∏ –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–µ
            </p>
        </div>
    </div>
</div>
{% endblock %}